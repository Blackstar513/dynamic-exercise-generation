{% extends "exgen/base.html" %}
{% load static %}
{% block head_append %}
<script>window.jquery || document.write("<script src=\"{% static 'exgen/admin_copies/js/jquery.min.js' %}\"><\/script>")</script>
<script src="{% static 'exgen/admin_copies/js/jquery.init.js' %}"></script>
<script type="text/javascript" src="{% url 'javascript-catalog' %}" ></script>
<script type="text/javascript" src="{% static 'exgen/admin_copies/js/core.js' %}"></script>
<script type="text/javascript" src="{% static 'exgen/admin_copies/js/SelectBox.js' %}"></script>
<script type="text/javascript" src="{% static 'exgen/admin_copies/js/SelectFilter2.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'exgen/admin_copies/css/widgets.css' %}">
{% endblock %}
{% block title %}Search{% endblock %}

{% block content %}
<form method="GET">
    <table>
        {{ form.as_table }}
    </table>
    <input type="submit" value="Search">
</form>
<br>
{% for exercise in search_results %}
    <details>
        <summary><a href="{% url 'exgen:bottom_up' exercise.id %}">{{ exercise }}</a></summary>
        <p>
            Categories:
            {% for category in exercise.category.all %}
                {{ category }},
            {% endfor %}
        </p>
        <p>Fulltext: {{ exercise.text }}</p>
    </details>
{% endfor %}

<form action="{% url 'exgen:type_views' %}" method="POST">
    {% csrf_token %}
    <table>
        {{ form_select.as_table }}
    </table>
    <input type="submit" value="Generate">
</form>
{% endblock %}